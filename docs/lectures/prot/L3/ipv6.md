import PDU from '../../../../static/lib/pdu'
import Mermaid from '../../../../static/lib/Mermaid'
import IframeComponent from '../../../../static/lib/iframe'

# IPv6

IPv6 (Internet Protocol version 6) — это последняя версия протокола интернет-протокола, разработанная для решения ограничений [IPv4](./ip) и обеспечения расширенной адресации, улучшенной безопасности и функциональности в современных сетях. 

## **Преимущества IPv6 перед IPv4**
1. Увеличенное адресное пространство
2. Снижение потребления полосы пропускания 
3. Упрощенный заголовок ответа
4. Plug&play


## **Основные особенности IPv6**
1. **Увеличенное адресное пространство**  
   - IPv6 использует 128-битные адреса (в отличие от 32-битных в IPv4).  
   - Общее количество адресов: \(2^{128}\), что составляет ~340 ундециллионов адресов.  
   - Это позволяет каждой устройству в мире получить уникальный IP-адрес.

2. **Новый формат записи адресов**  
   - Адрес записывается в виде восьми групп из четырех шестнадцатеричных символов, разделенных двоеточиями. Например:  
     `2001:0db8:85a3:0000:0000:8a2e:0370:7334`  
   - Упрощение записи:  
     - Убираются ведущие нули: `2001:db8:85a3::8a2e:370:7334`  
     - Двойное двоеточие (`::`) заменяет последовательные группы нулей (можно использовать только один раз в адресе).

3. **Отсутствие NAT (Network Address Translation)**  
   - За счет огромного адресного пространства каждое устройство может иметь уникальный публичный IP-адрес.  
   - Это упрощает прямую связь между устройствами.

4. **Улучшение маршрутизации**  
   - Упрощенная структура заголовков пакетов снижает нагрузку на маршрутизаторы.  
   - IPv6 поддерживает иерархическую адресацию и агрегацию маршрутов (route aggregation).

5. **Автоконфигурация**  
   - IPv6 поддерживает Stateless Address Autoconfiguration (SLAAC), позволяя устройствам автоматически получать IP-адрес без DHCP.  
   - Поддерживается также DHCPv6 для управляемой конфигурации.

6. **Новые типы адресов**  
   IPv6 предоставляет три основных типа адресов:
   - **Unicast**: Адресует одно устройство.  
   - **Multicast**: Адресует группу устройств.  
   - **Anycast**: Адресует ближайшее устройство из группы.



## **Заголовок IPv6**
Заголовок IPv6 упрощен по сравнению с IPv4 для повышения производительности. 

<PDU maxCellSize={32} name={'IPv4 Заголовок'} data={[
    { 
        size: 4, 
        name: "Version", 
        desc: `Версия протокола (для IPv6 — значение 6)`
    },
    { 
        size: 8, 
        name: "Traffic class", 
        desc: `Указывает приоритет пакета для обслуживания`
    },
    { 
        size: 20, 
        name: "Flow label",
        desc: `Идентификация потока данных для ускорения маршрутизации`
    },
    { 
        size: 16, 
        name: "Payload length", 
        desc: `Сколько пакет занял в байтах`
    },
    { 
        size: 8, 
        name: "Next header", 
        desc: `Код протокола выше`
    },
    { 
        size: 8, 
        name: "Hop limit", 
        desc: `TTL`
    },
    { 
        size: 32, 
        name: "Source address",
        desc: `Адрес отправителя`
    },
    { 
        size: 32, 
        name: "Source address",
        desc: `Адрес отправителя`
    },
    { 
        size: 32, 
        name: "Source address",
        desc: `Адрес отправителя`
    },
    { 
        size: 32, 
        name: "Source address",
        desc: `Адрес отправителя`
    },
    { 
        size: 32, 
        name: "Destination address",
        desc: `Адрес получателя`
    },
    { 
        size: 32, 
        name: "Destination address",
        desc: `Адрес получателя`
    },
    { 
        size: 32, 
        name: "Destination address",
        desc: `Адрес получателя`
    },
    { 
        size: 32, 
        name: "Destination address",
        desc: `Адрес получателя`
    }
]} />



## **Типы адресов IPv6**
### **Global Unicast Addresses**  Глобальные
   - Аналог публичных адресов IPv4.  
   - Диапазон: от `2000::/3`.
  
<PDU maxCellSize={128} name={'IPv4 Заголовок'} data={[
    { 
        size: 24, 
        name: "Реестр", 
        desc: `Региональный регистратор`
    },
    { 
        size: 8, 
        name: "ISP", 
        desc: `Провайдер`
    },
    { 
        size: 16, 
        name: "Префикс площадки", 
        desc: `Провайдер-арендатор`
    },
    { 
        size: 16, 
        name: "Перефикс подсети", 
        desc: `Адрес сети`
    },
    { 
        size: 64, 
        name: "ID интерфейса", 
        desc: `Адрес хоста`
    }
]} />

### **Link-Local Addresses**  Площадка
   - Адреса, применяемые для связи внутри одной сети (например, для SLAAC).  
   - Диапазон: `FE80::/10`.

<PDU maxCellSize={128} name={'IPv4 Заголовок'} data={[
    { 
        size: 8, 
        name: "FD"
    },
    { 
        size: 40, 
        name: "Global ID", 
        desc: `Случайное значение, главное одинаковое`
    },
    { 
        size: 16, 
        name: "Перефикс подсети", 
        desc: `Адрес сети`
    },
    { 
        size: 64, 
        name: "ID интерфейса", 
        desc: `Адрес хоста`
    }
]} />

### **Unique Local Addresses (ULA)**  Канал
   - Аналог частных адресов IPv4 (например, 192.168.x.x).  
   - Диапазон: `FC00::/7`.

<PDU maxCellSize={128} name={'IPv4 Заголовок'} data={[
    { 
        size: 16, 
        name: "FE80"
    },
    { 
        size: 48, 
        name: "000...000"
    },
    { 
        size: 64, 
        name: "ID интерфейса", 
        desc: `Адрес хоста`
    }
]} />

### **Multicast Addresses**  
   - Диапазон: `FF00::/8`.

### **Anycast Addresses**  
   - Один адрес назначается нескольким узлам, но пакеты доставляются ближайшему.

### **Неопределенный адрес** (`::`)
### **localhost** (`::1`)
