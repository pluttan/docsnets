import PDU from '../../../../static/lib/pdu'
import Mermaid from '../../../../static/lib/Mermaid'
import IframeComponent from '../../../../static/lib/iframe'

# ARP

**ARP** (*Address Resolution Protocol*) — это протокол, используемый для сопоставления IP-адресов (логических адресов) и MAC-адресов (физических адресов) в локальной сети (LAN).

## Принцип работы ARP

1. **Запрос ARP (ARP Request):**
   - Устройство-отправитель формирует широковещательный запрос ARP (Ethernet Broadcast), указывая IP-адрес, для которого нужно узнать MAC-адрес.
   - Широковещание отправляется на MAC-адрес `FF:FF:FF:FF:FF:FF`.

2. **Ответ ARP (ARP Reply):**
   - Устройство с запрошенным IP-адресом отвечает уникастным ARP Reply, указывая свой MAC-адрес.
   - Ответ принимается только отправителем.

3. **ARP-таблица:**
   - После получения ответа устройство добавляет пару IP-MAC в ARP-таблицу, чтобы избежать повторного запроса.

## Типы записей в ARP-таблице
- **Динамические записи**: создаются автоматически в результате ARP-запроса.
- **Статические записи**: добавляются вручную администратором сети. Такие записи защищены от удаления.

## Формат пакета ARP

<PDU maxCellSize={32} name={'ARP пакет'} data={[
    { 
        size: 16, 
        name: "Hardware type", 
        desc: `Номер типа канального протокола передачи данных.` 
    },
    { 
        size: 16, 
        name: "Protocol type", 
        desc: "Номер типа сетевого протокола." 
    },
    { 
        size: 8, 
        name: "Hardware length", 
        desc: "Длина физического адреса в байтах." 
    },
    { 
        size: 8, 
        name: "Protocol length", 
        desc: "Длина логического адреса в байтах." 
    },
    { 
        size: 16, 
        name: "Operation", 
        desc: "Код операции отправителя: 0x0001 в случае запроса и 0x0002 в случае ответа." 
    },
    { 
        size: 16, 
        name: "Sender hardware address", 
        desc: "Физический адрес отправителя." 
    },
    { 
        size: 16, 
        name: "Sender protocol address", 
        desc: "Логический адрес отправителя." 
    },
    { 
        size: 16, 
        name: "Target hardware address", 
        desc: "Физический адрес получателя. Не требуется при запросе." 
    },
    { 
        size: 16, 
        name: "Target protocol address", 
        desc: "Логический адрес получателя." 
    },
]} />


## Другие виды ARP

ARP еще используют для поиска совпадающих IP и для поиска IP устройства, если известен его MAC-адрес (RARP).