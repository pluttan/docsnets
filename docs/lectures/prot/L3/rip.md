import PDU from '../../../../static/lib/pdu'
import Mermaid from '../../../../static/lib/Mermaid'
import IframeComponent from '../../../../static/lib/iframe'

# RIP

**[RIP](https://www.youtube.com/watch?v=PfakLoNEmn0)** (*Routing Information Protocol*) – это один из старейших протоколов маршрутизации, разработанный для обмена информацией о маршрутах между маршрутизаторами в IP-сетях. RIP прост в использовании и настройке, но имеет ограничения, из-за которых его редко используют в современных крупных сетях.

## Основные характеристики RIP

RIP является протоколом маршрутизации с использованием вектора расстояния (Distance Vector Routing Protocol). Он использует количество "хопов" (проходов через устройства) как метрику маршрутизации.Максимальное количество хопов для маршрута — 15. Если маршрут имеет метрику 16, он считается недоступным. 

RIP использует **алгоритм Беллмана-Форда** для расчета наилучшего маршрута

## Таймеры

RIP использует несколько таймеров для управления обновлением и поддержанием таблицы маршрутизации:

- Таймер обновления (Update Timer)

    Интервал: 30 секунд.

    Каждый маршрутизатор передает свою таблицу маршрутизации всем соседям через определенные промежутки времени.
    Это основной механизм распространения маршрутов в RIP.
    
- Таймер ожидания (Invalid Timer)

    Интервал: 180 секунд (по умолчанию).

    Если за это время маршрутизатор не получает обновлений для определенного маршрута, маршрут считается недействительным.
    Он помечается как "недоступный" (метрика 16), но остается в таблице для возможного восстановления.


- Таймер удаления (Flush Timer)

    Интервал: 240 секунд.

    Если маршрут остается недействительным в течение этого времени, он удаляется из таблицы.
    Это больше времени ожидания, чтобы дать возможность маршруту восстановиться.

## Версии
   - **RIP v1**: 
     - Протокол без класса (classful), не поддерживает подсети и CIDR.
     - Обменивается только основными адресами сети.
   - **RIP v2**: 
     - Протокол с классом (classless), поддерживает маски подсети и CIDR.
     - Включает механизмы аутентификации.
   - **RIPng (RIP next generation)**: 
     - Расширение для IPv6.

## Пакет

### RIP 1
<PDU maxCellSize={32} name={'IPv4 Заголовок'} data={[
    { 
        size: 8, 
        name: "Комманда", 
        desc: `Функционал (запрос, ответ)`
    },
    { 
        size: 8, 
        name: "Версия", 
        desc: `1`
    },
    { 
        size: 16, 
        name: "-"
    },
    { 
        size: 16, 
        name: "ID адресного пространства", 
        desc: `TCP/IP разрабатывалось когда предполагалось использование другого стека протоколов, но в итоге используется только этот`
    },
    { 
        size: 16, 
        name: "-"
    },
    { 
        size: 32, 
        name: "IP адрес сети", 
        desc: `IP адрес, сеть вычисляется с помощью механизма классовой адресации VLSM`
    },
    { 
        size: 32, 
        name: "-"
    },
    { 
        size: 32, 
        name: "-"
    },
    { 
        size: 32, 
        name: "Метрика", 
        desc: `Метрика RIP (зачем для числа от 0 до 16 -- 32 бита...)`
    },
]} />

### RIP 2
<PDU maxCellSize={32} name={'IPv4 Заголовок'} data={[
    { 
        size: 8, 
        name: "Комманда", 
        desc: `Функционал (запрос, ответ)`
    },
    { 
        size: 8, 
        name: "Версия", 
        desc: `2`
    },
    { 
        size: 16, 
        name: "-"
    },
    { 
        size: 16, 
        name: "ID адресного пространства", 
        desc: `TCP/IP разрабатывалось когда предполагалось использование другого стека протоколов, но в итоге используется только этот`
    },
    { 
        size: 16, 
        name: "Тег маршрута",
        desc: `Внутренний или внешний маршрут`
    },
    { 
        size: 32, 
        name: "IP адрес сети", 
        desc: `IP адрес, сеть вычисляется с помощью механизма маски (CIDR)`
    },
    { 
        size: 32, 
        name: "Маска"
    },
    { 
        size: 32, 
        name: "Next hop"
    },
    { 
        size: 32, 
        name: "Метрика"
    },
]} />