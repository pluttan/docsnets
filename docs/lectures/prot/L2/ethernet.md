import PDU from '../../../../static/lib/pdu'
import Mermaid from '../../../../static/lib/Mermaid'
import IframeComponent from '../../../../static/lib/iframe'

# ETHERNET

## Кадр Ethernet II
Существует несколько форматов кадра Ethernet, но самым распространенным является Ethernet II.

<PDU maxCellSize={64} name={'Кадр Ethernet II'} data={[
    { 
        size: 6, 
        name: "MAC-адрес получателя"
    },
    { 
        size: 6, 
        name: "MAC-адрес источника"
    },
    { 
        size: 2, 
        name: "Тип", 
        desc: "Идентифицирует протокол вышележащего уровня." 
    },
    { 
        size: 46, 
        name: "Данные", 
        desc: "Поле «Данные», содержит pdu вышележащего уровня. Размер данного поля может варьироваться от 46 до 1500 байт. " 
    },
    { 
        size: 4, 
        name: "Контрольная сумма", 
        desc: "Хвостовик, назначение которого состоит в проверке передаваемого кадра на предмет наличия ошибок (FCS – Frame Check Sequence)" 
    },
]} />

## MAC-адреса

На канальном уровне в роли адреса устройства выступает физический адрес – MAC-адрес (Media Access Control – управление доступом к среде), присваиваемый каждому устройству, работающему в сети, производителем. MAC-адрес, занимает 48 бит и отображается в шестнадцатеричной системе счисления. 

#### Структура MAC-адреса

<PDU maxCellSize={48} name={'Кадр Ethernet II'} data={[
    { 
        size: 1, 
        name: "I/G",
        desc: "Групповая рассылка" 
    },
    { 
        size: 1, 
        name: "U/L",
        desc: "Локально-администрируемый адрес" 
    },
    { 
        size: 22, 
        name: "OUI", 
        desc: "Уникальный идентификатор организации" 
    },
    { 
        size: 24, 
        name: "NIC", 
        desc: "Интерфейс сетевой карты" 
    }
]} />


MAC-адрес подразделяется на четыре составляющих:

1. **Старший бит MAC-адреса**:
   - Если бит установлен в `0` — адрес является **индивидуальным** (I - *individual*).
   - Если бит установлен в `1` — адрес является **групповым** (G - *group*).
     - Кадры с групповым адресом предназначены группе устройств, которую идентифицируют оставшиеся 46 бит.
     - Кадры с индивидуальным адресом предназначены конкретному устройству.

2. **Последующий бит MAC-адреса**:
   - Определяет способ назначения адреса:
     - `U` (*universal*): назначен производителем.
     - `L` (*local*): назначен администратором сети.

3. **Код организации (22 бита)**:
   - Присваивается каждой организации комитетом IEEE (Institute of Electrical and Electronics Engineers).
   - Идентифицирует производителя устройства.

4. **Уникальный идентификатор (24 бита)**:
   - Присваивается организацией-производителем конкретному устройству (NIC — *Network Interface Controller Specific*).

## Передача данных в сети Ethernet

#### Метод доступа к среде
- Используется **случайный доступ на основе алгоритма CSMA/CD** (Carrier Sense Multiple Access with Collision Detection).

#### Тип физического кодирования
- **Манчестерский код**.

#### Топология сети
- **Пассивная звезда**:
  - Центральное устройство работает на физическом или канальном уровнях модели OSI/ISO.

## Этапы передачи кадра Ethernet

1. **Формирование пакета**:
   - Пакет создается на сетевом уровне и инкапсулируется в поле «Данные» кадра Ethernet II.

2. **Указание типа протокола**:
   - В поле «Тип» записывается код протокола сетевого уровня, который передал данные Ethernet II.

3. **Заполнение адресов**:
   - В поле «Адрес источника» записывается MAC-адрес отправителя.
   - В поле «Адрес получателя» записывается MAC-адрес назначения, который определяет, кому предназначен кадр.

4. **Контрольная сумма**:
   - В поле «Контрольная сумма» записывается значение для проверки кадра на ошибки.

5. **Передача кадра**:
   - Устройство-отправитель получает доступ к среде с помощью алгоритма CSMA/CD.
   - Кадр физически кодируется манчестерским кодом и передается в сеть.

6. **Получение кадра**:
   - Устройства в сети анализируют MAC-адрес получателя.
   - Кадр принимается только станцией, чей MAC-адрес совпадает с указанным в поле «Адрес получателя».
